# 聚集索引

数据的物理存储顺序和索引的逻辑顺序相同

**优点**：这就意味着数据是存在连续的物理地址中的，特别是在一些范围查询的时候由于物理地址连续，查询性能就会很快。

**缺点**：对表进行修改速度较慢，这是为了保持表中的记录的物理顺序与索引的顺序一致，而把记录插入到数据页的相应位置，必须在数据页中进行数据重排， 降低了执行速度。

只能关联一列（一张表只能由一个聚集索引），比如mysql 的innodb

> InnoDB对聚簇索引处理如下： - 如果定义了主键，那么InnoDB会使用主键作为聚簇索引 - 如果没有定义主键，那么会使用第一非空的唯一索引（NOT NULL and UNIQUE INDEX）作为聚簇索引 - 如果既没有主键也找不到合适的非空索引，那么InnoDB会自动生成一个不可见的名为ROW_ID的列名为GEN_CLUST_INDEX的聚簇索引，该列是一个6字节的自增数值，随着插入而自增
>
> **缺少主键的表/非空唯一索引的表，由于会采用隐藏列 ROW_ID，然而ROW_ID的自增生成来源于一个全局的序列，这也意味着插入的时候生成需要共享一个序列，那么高并发插入的时候为了保持唯一性就避免不了锁的竞争，进而影响性能。 **

# 非聚集索引

该索引中索引的逻辑顺序与磁盘上行的物理存储顺序不同，索引处存的是一个指向物理地址的指针

**缺点**：范围查询的时候就需要多一次索引物理地址的操作，并且没有很好的利用到操作系统的 Page cache 的特性（该功能会预加载连续的磁盘数据缓存）。

**优点**：添加数记录的时候不会引起数据的顺序重组。

一个表中可以拥有多个非聚集索引。



